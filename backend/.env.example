# Variables d'environnement - Backend

# Serveur
PORT=5000
NODE_ENV=production

# Firebase Admin SDK
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"

# ====================================
# STRIPE - PAIEMENTS EXPRESS (‚úÖ IMPL√âMENT√â)
# ====================================
# MODE TEST (D√©veloppement - recommand√© pour commencer)
STRIPE_SECRET_KEY=sk_test_51...YOUR_SECRET_KEY_HERE
STRIPE_WEBHOOK_SECRET=whsec_...YOUR_WEBHOOK_SECRET_HERE

# MODE PRODUCTION (D√©ploiement)
# ‚ö†Ô∏è N√©cessite compte Stripe v√©rifi√© (KYC compl√©t√©)
# STRIPE_SECRET_KEY=sk_live_51...YOUR_LIVE_KEY_HERE
# STRIPE_WEBHOOK_SECRET=whsec_...YOUR_LIVE_WEBHOOK_SECRET_HERE

# üìù Configuration Stripe (√âtapes d√©taill√©es) :
# 
# √âTAPE 1 - Cr√©er compte Stripe TEST
# 1. Aller sur https://dashboard.stripe.com/register
# 2. Cr√©er un compte (email professionnel recommand√©)
# 3. ACTIVER le mode TEST (toggle en haut √† droite du dashboard)
# 
# √âTAPE 2 - R√©cup√©rer les cl√©s API
# 1. Dashboard ‚Üí Developers ‚Üí API keys
# 2. Copier "Publishable key" (pk_test_...) ‚Üí pour frontend .env.local
# 3. Copier "Secret key" (sk_test_...) ‚Üí pour backend .env (ci-dessous)
# 
# √âTAPE 3 - Configurer le webhook (CRITIQUE pour paiements)
# 1. Dashboard ‚Üí Developers ‚Üí Webhooks ‚Üí "Add endpoint"
# 2. URL webhook :
#    - Production : https://votre-domaine.com/api/v1/stripe-express/webhook
#    - Local dev : 
#      a. Installer ngrok : https://ngrok.com/download
#      b. Lancer : ngrok http 5000
#      c. URL webhook : https://<votre-id>.ngrok.io/api/v1/stripe-express/webhook
# 3. √âv√©nements √† s√©lectionner (‚ö†Ô∏è IMPORTANT - seuls ces 2 sont g√©r√©s) :
#    ‚úì payment_intent.succeeded  (paiement r√©ussi)
#    ‚úì charge.refunded          (remboursement)
# 4. Cliquer "Add endpoint"
# 5. Copier "Signing secret" (whsec_...) ‚Üí STRIPE_WEBHOOK_SECRET ci-dessous
# 
# √âTAPE 4 - Tester en local (alternative √† ngrok)
# Option A : Stripe CLI (recommand√© pour dev)
#   1. Installer : https://stripe.com/docs/stripe-cli
#   2. Lancer : stripe listen --forward-to localhost:5000/api/v1/stripe-express/webhook
#   3. Copier le webhook secret (whsec_...) affich√© dans le terminal
# Option B : ngrok (voir √âTAPE 3)
# 
# CARTES DE TEST (mode test uniquement) :
# - Succ√®s : 4242 4242 4242 4242
# - Refus : 4000 0000 0000 0002
# - 3D Secure : 4000 0027 6000 3184
# - Expiry : n'importe quelle date future (ex: 12/25)
# - CVC : n'importe quel 3 chiffres (ex: 123)
# Documentation : https://stripe.com/docs/testing

# Mapbox
MAPBOX_ACCESS_TOKEN=

# Twilio SMS (https://www.twilio.com)
# 1. Cr√©er un compte sur https://www.twilio.com/try-twilio (essai gratuit $15)
# 2. R√©cup√©rer Account SID, Auth Token et Phone Number depuis le dashboard
# 3. Ajouter les credentials ci-dessous
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_PHONE_NUMBER=+15551234567

# Cloudinary
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# CORS
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
